# F-005: 注文履歴参照 - 画面設計書

**機能ID:** F-005  
**機能名:** 注文履歴参照  
**バージョン:** 1.0.0  
**最終更新日:** 2025-12-16  
**フォーマット:** PlantUML (draw.io インポート可能)

---

## 画面一覧

1. [注文履歴画面 (orderHistory.xhtml)](#1-注文履歴画面)
2. [注文詳細画面 (orderDetail.xhtml)](#2-注文詳細画面)

---

## 1. 注文履歴画面

**ファイル名:** `orderHistory.xhtml`  
**目的:** 過去の注文一覧表示

### PlantUML

```plantuml
@startsalt
{+
  {/ <b>berry-books</b> | <&person> Aliceさん | <&account-logout> ログアウト | <&magnifying-glass> 書籍検索 }
  ..
  {
    <b>注文履歴</b>
    ==
    {#
      . 注文ID | 注文日      | 配送先           | 決済方法         | 合計金額   | 詳細
      --
      . 1004  | 2023-06-01 | 東京都中央区...   | 銀行振り込み     | 5,300円   | [詳細]
      . 1003  | 2023-05-01 | 東京都中央区...   | 着払い          | 12,000円  | [詳細]
      . 1002  | 2023-04-01 | 東京都中央区...   | クレジットカード  | 6,200円   | [詳細]
      . 1001  | 2023-03-01 | 東京都中央区...   | 銀行振り込み     | 6,100円   | [詳細]
    }
    ==
    <&arrow-left> 書籍検索に戻る
  }
  ..
  {/ © 2025 berry-books. All rights reserved. }
}
@endsalt
```

### レイアウト説明

| カラム | 説明 |
|--------|------|
| 注文ID | 注文取引ID |
| 注文日 | 注文確定日 |
| 配送先 | 配送先住所（省略表示） |
| 決済方法 | 銀行振込/クレジット/着払い |
| 合計金額 | 商品合計 + 配送料 |
| 詳細 | 注文詳細ボタン → orderDetail.xhtml |

### 動作

- **詳細ボタン**: orderDetail.xhtml?orderId=XXX へ遷移
- ソート順: 注文日降順（新しい順）

---

## 2. 注文詳細画面

**ファイル名:** `orderDetail.xhtml`  
**目的:** 注文の詳細情報表示

### PlantUML

```plantuml
@startsalt
{+
  {/ <b>berry-books</b> | <&person> Aliceさん | <&account-logout> ログアウト }
  ..
  {
    <b>注文詳細 - 注文番号 #1001</b>
    ==
    <b>▼ 注文情報</b>
    {
      注文日:     2023-03-01
      配送先:     東京都中央区1-1-1
      決済方法:   銀行振り込み
    }
    ..
    <b>▼ 注文明細</b>
    {#
      . 書籍名                    | 単価      | 数量 | 小計
      --
      . Java SEディープダイブ      | 3,400円   | 1   | 3,400円
      . SQLの冒険～RDBの深層       | 2,200円   | 1   | 2,200円
    }
    ..
    <b>▼ 料金</b>
    {
      . | 商品合計   | 5,600円
      . | 配送料     | 500円
      . | <b>総合計</b> | <b>6,100円</b>
    }
    ==
    <&arrow-left> 注文履歴に戻る
  }
  ..
  {/ © 2025 berry-books. All rights reserved. }
}
@endsalt
```

