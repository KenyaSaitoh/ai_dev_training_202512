<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">
<h:head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>berry-books - 新規会員登録</title>
    <h:outputStylesheet library="css" name="style.css"/>
</h:head>
<h:body>
    <div class="header-nav">
        <div class="header-left">
            <h:link value="berry-books" outcome="index" styleClass="search-link"/>
        </div>
        <div class="header-right">
            <h:link value="ログインへ戻る" outcome="index" styleClass="search-link"/>
        </div>
    </div>
    
    <h2>新規会員登録</h2>
    <hr/>
    
    <h:form styleClass="customer">
        <h:messages globalOnly="true" styleClass="error"/>
        
        <table>
            <tr>
                <td>顧客名</td>
                <td>
                    <h:inputText id="name" value="#{customerBean.name}" required="true"
                                 requiredMessage="顧客名を入力してください">
                        <f:validateLength maximum="30"/>
                    </h:inputText>
                    <h:message for="name" styleClass="error"/>
                </td>
            </tr>
            <tr>
                <td>メールアドレス</td>
                <td>
                    <h:inputText id="email" value="#{customerBean.email}" required="true"
                                 requiredMessage="メールアドレスを入力してください">
                        <f:validateLength maximum="60"/>
                    </h:inputText>
                    <h:message for="email" styleClass="error"/>
                </td>
            </tr>
            <tr>
                <td>パスワード</td>
                <td>
                    <h:inputSecret id="password" value="#{customerBean.password}" required="true"
                                   requiredMessage="パスワードを入力してください">
                        <f:validateLength maximum="60"/>
                    </h:inputSecret>
                    <h:message for="password" styleClass="error"/>
                </td>
            </tr>
            <tr>
                <td>生年月日</td>
                <td>
                    <h:inputText id="birthday" value="#{customerBean.birthday}">
                        <f:convertDateTime pattern="yyyy-MM-dd" type="localDate"/>
                    </h:inputText>
                    <h:message for="birthday" styleClass="error"/>
                </td>
            </tr>
            <tr>
                <td>住所</td>
                <td>
                    <h:inputTextarea id="address" value="#{customerBean.address}" rows="3" cols="50">
                        <f:validateLength maximum="120"/>
                    </h:inputTextarea>
                    <h:message for="address" styleClass="error"/>
                </td>
            </tr>
        </table>
        
        <h:commandButton value="登録する" action="#{customerBean.register}"/>
        <h:button value="キャンセル" outcome="index"/>
    </h:form>
</h:body>
</html>
